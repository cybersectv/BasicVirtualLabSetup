#VARS
$useraccesspath = "ou=UserAccess,ou=Access,DC=basicvlab,DC=local"
$adminaccesspath = "ou=AdminAccess,ou=Access,DC=basicvlab,DC=local"

#Add new OU's
New-ADOrganizationalUnit -Name "Access" -Path "DC=basicvlab,DC=local"
    New-ADOrganizationalUnit -Name "AdminAccounts" -Path "ou=Access,DC=basicvlab,DC=local"
    New-ADOrganizationalUnit -Name "UserAccess" -Path "ou=Access,DC=basicvlab,DC=local"
        New-ADOrganizationalUnit -Name "BusinessUsers" -Path "ou=UserAccess,DC=basicvlab,DC=local"
    New-ADOrganizationalUnit -Name "AdminAccess" -Path "ou=Access,DC=basicvlab,DC=local"


#Add New Groups and Members
    New-ADGroup -Name "masterAdminRights" -SamAccountName masterAdminRights -DisplayName "masterAdminRights" `
        -GroupScope Global -GroupCategory Security `
        -Path $adminaccesspath
    New-ADGroup -Name "xdAdmin" -SamAccountName xdAdmin -DisplayName "xdAdmin" `
        -GroupScope Global -GroupCategory Security `
        -Path $adminaccesspath
    New-ADGroup -Name "rdsAdmin" -SamAccountName rdsAdmin -DisplayName "rdsAdmin" `
        -GroupScope Global -GroupCategory Security `
        -Path $adminaccesspath
    New-ADGroup -Name "appAdmins" -SamAccountName appAdmins -DisplayName "appAdmins" `
        -GroupScope Global -GroupCategory Security `
        -Path $adminaccesspath
        
    #Add-ADGroupMember -Identity xd-Admin -Members firstname.lastname
    Add-ADGroupMember -Identity masterAdminRights -Members basicvlab
        Add-ADGroupMember -Identity masterAdminRights -Members xdAdmin,rdsAdmin,appAdmins
    
